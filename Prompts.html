<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مولد الأوامر (Prompts) الذكي - تخفيضات صابر</title>
    <!-- تحميل Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- تحميل خطوط Google Fonts: Cairo للعربية و Inter للإنجليزية (لضمان التوافق) -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- إضافة Font Awesome لضمان ظهور أيقونات الواتساب وغيرها في الشريط العلوي -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- إضافة AOS لضمان عمل تأثيرات التحريك (إذا كانت مستخدمة في أي مكان آخر) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* تعريف المتغيرات من الواجهة الرئيسية للمتجر لضمان التناسق */
        :root {
            --primary-500: #3b82f6; --primary-600: #2563eb;
            --secondary-500: #10b981; --secondary-600: #059669;
            --bg-light: #f8fafc; --bg-dark: #0f172a;
            --text-dark: #0f172a; --text-light: #475569;
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Cairo', sans-serif; /* استخدام خط عربي جميل */
            background: linear-gradient(to bottom right, #e0f2fe, #e3f2fd); /* تدرج لوني للخلفية */
            min-height: 100vh; /* تأكد من أن الجسم يملأ ارتفاع الشاشة */
            display: flex;
            flex-direction: column; /* لجعل المحتوى يتراصف عمودياً */
            align-items: center;
            justify-content: flex-start; /* البدء من الأعلى */
            padding: 0; /* إزالة أي حشوة افتراضية */
            margin: 0; /* إزالة أي هوامش افتراضية */
            overflow-x: hidden; /* منع التمرير الأفقي */
            /* تعديل padding-top ليتناسب مع ارتفاع الشريط الثابت */
            padding-top: 4.5rem; /* ارتفاع تقريبي للشريط العلوي الثابت */
        }

        /* أنماط الشريط العلوي الرئيسي الثابت */
        .main-fixed-header {
            background-color: #ffffff; /* خلفية بيضاء */
            backdrop-filter: blur(10px); /* تأثير ضبابي */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); /* ظل خفيف */
            position: fixed; /* جعله ثابتاً */
            top: 0; /* يلتصق بالأعلى */
            width: 100%; /* يملأ العرض بالكامل */
            z-index: 1001; /* تأكد من أنه فوق كل شيء آخر */
            padding: 0.75rem 1.5rem; /* حشوة داخلية */
            display: flex;
            justify-content: space-between; /* تباعد بين العناصر */
            align-items: center;
            direction: rtl; /* اتجاه من اليمين لليسار */
            height: 4.5rem; /* ارتفاع ثابت */
        }

        .main-fixed-header .logo-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            color: var(--text-dark); /* لون النص من المتغيرات */
        }

        .main-fixed-header .logo-container img {
            height: 2.25rem; /* ارتفاع الشعار */
            width: auto;
        }

        .main-fixed-header .logo-container .logo-text {
            font-family: 'Cairo', sans-serif; /* استخدام خط القاهرة */
            font-weight: 900; /* وزن الخط */
            font-size: 1.25rem; /* حجم الخط */
        }

        .main-fixed-header .nav-links {
            display: flex;
            gap: 1.5rem;
            font-weight: 600;
        }

        .main-fixed-header .nav-links a {
            color: #555;
            text-decoration: none;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
        }

        .main-fixed-header .nav-links a:hover {
            background-color: #f0f9ff;
            color: var(--primary-500);
        }

        /* أنماط الأزرار من الواجهة الرئيسية */
        .btn { padding: 0.65rem 1rem; border-radius: 0.5rem; font-weight: 700; text-align: center; transition: all 0.2s ease-in-out; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .btn-primary { background: linear-gradient(to right, var(--primary-600), var(--primary-500)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 7px 15px rgba(59, 130, 246, 0.25); }
        .btn-whatsapp { background-color: #25D366; color: white; }
        .btn-whatsapp:hover { background-color: #1DA851; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3); }

        /* أنماط قسم مولد الأوامر الجديد */
        .prompt-generator-section {
            width: 100%;
            max-width: 1300px; /* زيادة العرض لاستيعاب الشاشات الكبيرة */
            margin: 5rem auto; /* زيادة المسافة العلوية والسفلية */
            padding: 4rem; /* زيادة الحشوة الداخلية */
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            direction: rtl;
            flex-grow: 1; /* السماح لهذا القسم بالنمو ليدفع الفوتر للأسفل */
        }

        /* أنماط قسم الشرح والمقدمة */
        .intro-explanation-section {
            width: 100%;
            max-width: 1300px; /* زيادة العرض */
            margin: 3rem auto 5rem auto; /* زيادة المسافة العلوية والسفلية */
            padding: 4rem; /* زيادة الحشوة الداخلية */
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            direction: rtl;
        }

        .intro-explanation-section .main-title {
            font-size: 3.8rem; /* حجم أكبر للعنوان الرئيسي */
            font-weight: 900;
            color: #3b82f6; /* Primary blue color */
            margin-bottom: 2rem; /* زيادة المسافة السفلية */
            background: linear-gradient(to right, var(--primary-600), var(--primary-500));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .intro-explanation-section .subtitle {
            font-size: 1.5rem; /* حجم نص أكبر */
            color: #475569;
            margin-bottom: 3rem; /* زيادة المسافة السفلية */
        }

        .intro-explanation-section h3 {
            font-size: 2.8rem; /* حجم أكبر للعناوين الفرعية */
            font-weight: 800;
            color: #6366f1; /* لون بنفسجي جذاب */
            margin-top: 3.5rem; /* مسافة علوية أكبر */
            margin-bottom: 1.8rem; /* زيادة المسافة السفلية */
            background: linear-gradient(to right, #6366f1, #8b5cf6); /* تدرج لوني للعناوين الفرعية */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .intro-explanation-section p, .intro-explanation-section ul, .intro-explanation-section ol {
            font-size: 1.2rem; /* حجم نص مناسب ومريح للقراءة */
            color: #334155;
            line-height: 2; /* تباعد أسطر أكبر */
            margin-bottom: 1.5rem; /* مسافة سفلية أكبر */
            text-align: justify; /* محاذاة النص */
            padding: 0 2rem; /* حشوة جانبية للنص */
        }

        .intro-explanation-section ul, .intro-explanation-section ol {
            padding-right: 3rem; /* مسافة أكبر للقوائم النقطية والمرقمة */
            text-align: right; /* محاذاة القوائم */
        }

        .intro-explanation-section li {
            margin-bottom: 0.8rem; /* مسافة أكبر بين عناصر القائمة */
        }

        /* أنماط القسم الرئيسي لمولد الأوامر */
        .prompt-generator-section > h2 { /* استهداف h2 داخل هذا القسم فقط */
            font-size: 3.5rem; /* حجم أكبر للعنوان */
            font-weight: 900;
            color: #3b82f6; /* Primary blue color */
            margin-bottom: 2rem; /* زيادة المسافة السفلية */
            background: linear-gradient(to right, var(--primary-600), var(--primary-500));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .prompt-generator-section > p { /* استهداف p داخل هذا القسم فقط */
            font-size: 1.25rem; /* حجم نص أكبر */
            color: #475569;
            margin-bottom: 3rem; /* مسافة أكبر */
        }

        .input-area {
            display: flex;
            flex-direction: column;
            gap: 2rem; /* مسافة أكبر بين العناصر */
            align-items: center;
        }

        .prompt-input {
            width: 100%;
            padding: 2rem 2.5rem; /* حشوة أكبر بكثير */
            border: 3px solid #a78bfa; /* سمك حدود أكبر ولون جذاب */
            border-radius: 1.5rem; /* حواف مستديرة أكثر */
            font-size: 1.35rem; /* حجم خط أكبر */
            text-align: right; /* RTL input */
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            resize: vertical; /* السماح بتغيير حجم مربع النص عمودياً */
            min-height: 250px; /* ارتفاع أدنى كبير جداً */
            line-height: 1.9; /* تباعد الأسطر */
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1); /* ظل خفيف وجميل */
        }

        .prompt-input:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 6px rgba(99, 102, 241, 0.4); /* ظل أكبر وأوضح عند التركيز */
        }

        .generate-button {
            background: linear-gradient(to right, #6366f1, #8b5cf6);
            color: white;
            padding: 1.5rem 3.5rem; /* حشوة أكبر للزر */
            border-radius: 9999px;
            font-weight: 700;
            font-size: 1.6rem; /* حجم خط أكبر للزر */
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35); /* ظل أكبر للزر */
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 1rem; /* مسافة أكبر بين الأيقونة والنص */
        }

        .generate-button:hover {
            transform: translateY(-6px) scale(1.05); /* تأثير أكبر عند التحويم */
            box-shadow: 0 20px 45px rgba(0, 0, 0, 0.5); /* ظل أكبر عند التحويم */
            background: linear-gradient(to right, #4f46e5, #7c3aed);
        }

        .prompt-output {
            background-color: #f8fafc;
            border: 2px solid #e2e8f0; /* سمك حدود أكبر */
            border-radius: 1.5rem; /* حواف مستديرة أكثر */
            padding: 2.5rem; /* حشوة أكبر */
            min-height: 300px; /* ارتفاع أدنى كبير جداً */
            text-align: right;
            line-height: 2; /* تباعد أسطر أكبر */
            color: #334155;
            font-size: 1.2rem; /* حجم خط مناسب */
            margin-top: 3.5rem; /* مسافة علوية أكبر */
            box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.1); /* ظل داخلي أكثر وضوحاً */
            position: relative; /* لتحديد موضع زر النسخ */
        }

        /* New styles for the output textarea */
        .prompt-output-textarea {
            width: 100%;
            height: 100%; /* Fill parent div */
            padding: 1rem; /* Inner padding for text */
            border: none; /* Remove default textarea border */
            background-color: transparent; /* Transparent background */
            font-family: 'Cairo', sans-serif; /* Inherit font */
            font-size: 1.2rem; /* Match parent font size */
            line-height: 2; /* Match parent line height */
            color: #334155; /* Match parent text color */
            resize: vertical; /* Allow vertical resizing */
            min-height: 250px; /* Minimum height */
            text-align: right; /* RTL text alignment */
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
            word-wrap: break-word; /* Break long words */
            outline: none; /* Remove outline on focus */
        }

        .loading-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem; /* مسافة أكبر */
            color: #6366f1;
            font-weight: 600;
            margin-top: 3rem; /* مسافة أكبر */
            font-size: 1.3rem;
        }

        .loading-indicator svg {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* زر النسخ */
        .copy-button {
            position: absolute;
            top: 1.25rem; /* ليكون في الزاوية العلوية اليسرى في RTL */
            left: 1.25rem;
            background-color: #607d8b;
            color: white;
            padding: 0.8rem 1.2rem; /* حشوة أكبر */
            border-radius: 0.8rem; /* حواف مستديرة أكثر */
            font-size: 1.1rem; /* حجم خط أكبر */
            cursor: pointer;
            border: none;
            transition: background-color 0.2s ease;
            opacity: 0.95;
            z-index: 10; /* Ensure it's above the textarea */
        }

        .copy-button:hover {
            background-color: #455a64;
            opacity: 1;
        }

        /* أنماط الفوتر (مأخوذة من الواجهة الرئيسية) */
        .footer-section {
            background-color: #1a202c; /* Dark background for footer */
            color: #e2e8f0; /* Light text color */
            padding: 5rem 1.5rem 3rem; /* Increased top/bottom padding for separation */
            text-align: center;
            direction: rtl; /* Ensure RTL */
            width: 100%; /* Full width */
            margin-top: auto; /* يدفع الفوتر إلى الأسفل */
        }

        .footer-section h3 {
            font-size: 2.5rem; /* Larger font for heading */
            font-weight: 800; /* Extra bold */
            color: #ffffff; /* White color for the heading */
            margin-bottom: 2rem; /* Space below heading */
        }

        .footer-section .contact-info {
            display: flex;
            flex-direction: column;
            gap: 1.25rem; /* Increased gap */
            margin-bottom: 2.5rem; /* Increased margin */
            max-width: 350px; /* Slightly wider for contact info */
            margin-left: auto;
            margin-right: auto;
        }

        .footer-section .contact-item {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem; /* Increased gap */
            font-size: 1.2rem; /* Increased font size */
            color: #cbd5e0; /* Light gray text */
            transition: color 0.2s ease;
            text-decoration: none; /* Remove underline from links */
        }

        .footer-section .contact-item:hover {
            color: var(--primary-500); /* Primary blue on hover */
        }

        .footer-section .contact-item i {
            color: var(--primary-500); /* Primary blue for icons */
            font-size: 1.4rem; /* Increased icon size */
        }

        .footer-section .copyright-text {
            font-size: 1rem; /* Increased font size */
            color: #94a3b8; /* Lighter gray for copyright */
            margin-top: 1.5rem; /* Increased margin */
        }

        /* WhatsApp Floating Button styles */
        .whatsapp-float {
            position: fixed;
            bottom: 30px; /* Increased distance from bottom */
            left: 30px; /* Increased distance from left */
            z-index: 1000;
            background-color: #25D366;
            color: white;
            border-radius: 50%;
            width: 70px; /* Larger size */
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem; /* Larger icon */
            box-shadow: 0 6px 15px rgba(0,0,0,0.25); /* Stronger shadow */
            transition: all 0.3s ease;
            animation: bounce-in 1s ease;
        }
        .whatsapp-float:hover { transform: scale(1.15); box-shadow: 0 8px 20px rgba(0,0,0,0.4); } /* Stronger hover effect */
        @keyframes bounce-in { 0% { opacity: 0; transform: scale(0.5) translateY(20px); } 100% { opacity: 1; transform: scale(1) translateY(0); } }


        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-fixed-header .nav-links {
                display: none;
            }
            .main-fixed-header .btn {
                display: none;
            }
            .main-fixed-header {
                justify-content: center;
            }
            body {
                padding-top: 4.5rem;
            }
            .prompt-generator-section {
                margin: 2rem auto;
                padding: 1.5rem;
            }
            .intro-explanation-section {
                margin: 2rem auto;
                padding: 1.5rem;
            }
            .intro-explanation-section .main-title {
                font-size: 2.5rem;
            }
            .intro-explanation-section .subtitle {
                font-size: 1.1rem;
            }
            .intro-explanation-section h3 {
                font-size: 1.8rem;
                margin-top: 2rem;
                margin-bottom: 1rem;
            }
            .intro-explanation-section p, .intro-explanation-section ul, .intro-explanation-section ol {
                font-size: 1rem;
                line-height: 1.7;
                padding: 0 0.5rem;
            }
            .intro-explanation-section ul, .intro-explanation-section ol {
                padding-right: 1.5rem;
            }
            .prompt-generator-section > h2 {
                font-size: 2rem;
            }
            .prompt-generator-section > p {
                font-size: 1rem;
            }
            .prompt-input {
                font-size: 1.05rem; /* Adjusted for mobile */
                min-height: 150px; /* Adjusted for mobile */
                padding: 1rem 1.25rem; /* Adjusted for mobile */
            }
            .generate-button {
                font-size: 1.1rem; /* Adjusted for mobile */
                padding: 0.8rem 1.5rem; /* Adjusted for mobile */
            }
            .prompt-output {
                font-size: 1.05rem; /* Adjusted for mobile */
                min-height: 180px; /* Adjusted for mobile */
                padding: 1rem; /* Adjusted for mobile */
            }
            .copy-button {
                font-size: 0.8rem;
                padding: 0.4rem 0.6rem;
            }
            .footer-section {
                padding: 2rem 1rem; /* Adjust footer padding for mobile */
            }
            .footer-section h3 {
                font-size: 1.8rem;
            }
            .footer-section .contact-item {
                font-size: 1rem;
            }
            .whatsapp-float {
                width: 50px; /* Smaller size for mobile */
                height: 50px;
                font-size: 1.5rem;
                bottom: 15px;
                left: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- شريط التنقل الرئيسي الثابت -->
    <header class="main-fixed-header">
        <a href="https://takhfidatsaber.com" class="logo-container">
            <!-- تأكد من وجود ملف logo.png في نفس المسار أو قم بتحديث المسار -->
            <img src="logo.png" alt="شعار متجر تخفيضات صابر">
            <span class="logo-text">تخفيضات صابر</span>
        </a>
        <div class="nav-links">
            <!-- روابط التنقل، يمكنك تعديلها لتناسب هذه الصفحة أو إزالتها إذا لم تكن مطلوبة -->
            <a href="https://takhfidatsaber.com/#products">المنتجات</a>
            <a href="https://takhfidatsaber.com/#features">لماذا نحن؟</a>
            <a href="https://takhfidatsaber.com/#contact">اتصل بنا</a>
        </div>
        <a href="https://wa.me/+967782343232" target="_blank" class="btn btn-primary !px-4 !py-2 text-sm sm:text-base hidden sm:flex">
            <i class="fa-brands fa-whatsapp mr-1 sm:mr-2"></i>
            اطلب الآن
        </a>
    </header>

    <!-- قسم الشرح والمقدمة الجديد -->
    <div class="intro-explanation-section">
        <h2 class="main-title">
            متجر تخفيضات صابر يقدّم لكم
        </h2>
        <p class="subtitle">
            خدمة **مولد الأوامر (Prompts) الذكي** لتسهيل عملكم في مجال الذكاء الاصطناعي في جميع المراحل.
        </p>

        <h3 class="text-gradient">ما هو الأمر (Prompt)؟ ولماذا هو مهم؟</h3>
        <p>
            الأمر (Prompt) هو ببساطة **التعليمات أو السؤال الذي توجهه لنموذج الذكاء الاصطناعي** (مثل ChatGPT، Gemini، Midjourney، وغيرها) لكي يقوم بتنفيذ مهمة معينة أو توليد محتوى. تخيل أنك تتحدث إلى مساعد ذكي جداً؛ الأمر هو ما تقوله له ليقدم لك أفضل مساعدة.
        </p>
        <p>
            **لماذا الأمر الجيد مهم؟** كلما كان الأمر الذي تكتبه **أكثر دقة ووضوحاً وتفصيلاً**، كلما كانت الاستجابة التي تحصل عليها من الذكاء الاصطناعي **أكثر جودة، إبداعاً، وفائدة**. الأمر الجيد يوجه الذكاء الاصطناعي لفهم نيتك الحقيقية، ويساعده على تقديم نتائج تتجاوز توقعاتك.
        </p>

        <h3 class="text-gradient">كيف يساعدك مولد الأوامر الذكي؟</h3>
        <p>
            في كثير من الأحيان، يواجه المستخدمون صعوبة في صياغة الأوامر التي تحقق النتائج المرجوة. هنا يأتي دور "مولد الأوامر الذكي" الخاص بنا! فهو يساعدك على تحويل فكرتك البسيطة إلى أمر احترافي ومفصل، مما يضمن لك الحصول على أقصى استفادة من أدوات الذكاء الاصطناعي في مجالات متنوعة مثل:
        </p>
        <ul class="list-disc list-inside text-right mx-auto max-w-xl">
            <li>**الكتابة الإبداعية**: قصص، سيناريوهات، شعر، نصوص إعلانية.</li>
            <li>**التسويق الرقمي**: أفكار حملات، محتوى لوسائل التواصل، رسائل بريد إلكتروني.</li>
            <li>**التعليم والبحث**: تلخيص مقالات، شرح مفاهيم معقدة، توليد أسئلة اختبارات.</li>
            <li>**البرمجة والتطوير**: كتابة أكواد، تصحيح أخطاء، شرح وظائف برمجية.</li>
            <li>**تحليل البيانات**: استخلاص رؤى، تفسير رسوم بيانية، توليد تقارير.</li>
            <li>**وغيرها الكثير من المهام الاحترافية والشخصية!**</li>
        </ul>

        <h3 class="text-gradient">دليل الاستخدام السريع</h3>
        <p>
            استخدام مولد الأوامر الخاص بنا بسيط ومباشر. اتبع هذه الخطوات للحصول على أمرك الاحترافي في ثوانٍ:
        </p>
        <ol class="list-decimal list-inside text-right mx-auto max-w-xl">
            <li>**اكتب طلبك**: في مربع النص أدناه، اكتب باختصار ما تريده من الذكاء الاصطناعي. كلما كنت واضحاً في فكرتك الأولية، كان الأمر المولد أفضل.</li>
            <li>**اضغط على "توليد الأمر"**: سيقوم نظامنا المدعوم بتقنية  gimnai بمعالجة طلبك وتحويله إلى أمر متقدم.</li>
            <li>**انسخ الأمر واستخدمه**: سيظهر لك أمر احترافي ومفصل في المربع الخاص بالناتج. يمكنك نسخه بسهولة واستخدامه مباشرة مع أي نموذج ذكاء اصطناعي.</li>
        </ol>
        <p class="text-lg text-gray-800 font-semibold mt-8">
            ابدأ الآن واستفد من قوة الذكاء الاصطناعي بفعالية أكبر!
        </p>
    </div>

    <div class="prompt-generator-section">
        <!-- القسم الرئيسي لمولد الأوامر -->
        <h2 class="text-gradient">
            ابدأ بتوليد أمرك الآن!
        </h2>
        <p class="text-lg text-gray-600 mb-6">
            أدخل طلبك أو الموضوع الذي تريد إنشاء أمر (Prompt) له، وسيقوم نموذج Gemini بتوليد أمر احترافي ومفصل.
        </p>
        <div class="input-area">
            <textarea id="userRequestInput" placeholder="مثال: اكتب قصة قصيرة عن روبوت يكتشف المشاعر البشرية، أو: قم بتوليد أفكار تسويقية لمنتج جديد." rows="5" class="prompt-input"></textarea>
            <button id="generatePromptBtn" class="generate-button">
                توليد الأمر (Prompt) ✨
            </button>
        </div>
        <div id="loadingIndicator" class="loading-indicator hidden">
            <svg class="animate-spin h-5 w-5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span>جاري توليد الأمر...</span>
        </div>
        <div id="promptOutput" class="prompt-output hidden">
            <!-- Generated prompt will appear here -->
            <textarea id="generatedPromptText" readonly rows="8" class="prompt-output-textarea"></textarea>
            <button class="copy-button" onclick="copyToClipboard()">نسخ</button>
        </div>
    </div>

    <!-- Footer Section from the main store page -->
    <footer id="contact" class="footer-section">
        <div class="container mx-auto px-6 text-center">
            <div class="mb-8">
                <h3 class="text-2xl font-display mb-4 text-white">تواصل معنا</h3>
                <div class="space-y-3 text-slate-300 max-w-md mx-auto contact-info">
                    <a href="tel:+967782343232" class="flex items-center justify-center gap-3 hover:text-primary-500 transition-colors contact-item">
                        <i class="fa-solid fa-phone text-primary-500 text-lg"></i>
                        <span>+967 782 343 232</span>
                    </a>
                    <a href="mailto:info@takhfidatsaber.com" class="flex items-center justify-center gap-3 hover:text-primary-500 transition-colors contact-item">
                        <i class="fa-solid fa-envelope text-primary-500 text-lg"></i>
                        <span>info@takhfidatsaber.com</span>
                    </a>
                    <a href="https://www.facebook.com/share/1FFtEdVaMk/?mibextid=qi2Omg" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center gap-3 hover:text-primary-500 transition-colors contact-item">
                        <i class="fa-brands fa-facebook text-primary-500 text-lg"></i>
                        <span>صفحتنا على فيسبوك</span>
                    </a>
                </div>
            </div>
            <div class="border-t border-slate-700 pt-8 mt-8">
                <p class="text-slate-400 copyright-text">&copy; 2025 متجر تخفيضات صابر. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/+967782343232" target="_blank" class="whatsapp-float" aria-label="تواصل معنا عبر واتساب">
        <i class="fa-brands fa-whatsapp"></i>
    </a>

    <script>
        const userRequestInput = document.getElementById('userRequestInput');
        const generatePromptBtn = document.getElementById('generatePromptBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const promptOutput = document.getElementById('promptOutput');
        const generatedPromptText = document.getElementById('generatedPromptText'); // Now a textarea

        generatePromptBtn.addEventListener('click', async () => {
            const userRequest = userRequestInput.value.trim();
            if (!userRequest) {
                promptOutput.classList.remove('hidden');
                generatedPromptText.value = 'الرجاء إدخال طلب أو موضوع لتوليد الأمر.'; // Use .value for textarea
                return;
            }

            promptOutput.classList.add('hidden');
            loadingIndicator.classList.remove('hidden');
            generatedPromptText.value = ''; // Clear previous output using .value

            try {
                let chatHistory = [];
                // Refined prompt to generate ONLY the advanced prompt, without any conversational text.
                // It explicitly asks for the prompt to be ready for direct use by an AI.
                const prompt = `Based on the following user request: "${userRequest}", generate a single, highly advanced, and comprehensive prompt designed to elicit the best possible response from a powerful AI model. The output should be ONLY the prompt itself, ready for direct use, without any introductory phrases like "Here is your prompt:" or concluding remarks. Ensure the generated prompt is in Arabic and includes:
- A clear role for the AI (e.g., "أنت خبير تسويق رقمي", "أنت كاتب إبداعي").
- Specific context and background information.
- The desired output format (e.g., "قائمة نقطية", "فقرة مفصلة", "كود برمجي").
- Tone and style requirements (e.g., "احترافي", "إبداعي", "تحليلي").
- Any constraints or specific elements to include/exclude.
- Examples if necessary to clarify the request.
- A clear call to action for the AI.`;
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyCAtLdN4wO55U9OE-HATmq20tfi5f1TQvw"; // تم إضافة مفتاح API هنا
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    generatedPromptText.value = text; // Use .value for textarea
                } else {
                    generatedPromptText.value = 'عذرًا، لم أتمكن من توليد الأمر في الوقت الحالي. الرجاء المحاولة مرة أخرى.'; // Use .value for textarea
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                generatedPromptText.value = 'حدث خطأ أثناء الاتصال بواجهة برمجة تطبيقات Gemini. الرجاء التحقق من اتصالك بالإنترنت والمحاولة مرة أخرى.'; // Use .value for textarea
            } finally {
                loadingIndicator.classList.add('hidden');
                promptOutput.classList.remove('hidden');
            }
        });

        // Function to copy generated text to clipboard
        function copyToClipboard() {
            const textToCopy = generatedPromptText.value; // Get value from textarea
            generatedPromptText.select(); // Select the text in the textarea
            document.execCommand('copy'); // Copy the selected text
            alert('تم نسخ الأمر إلى الحافظة!'); // Using alert for simplicity, consider custom modal
        }
    </script>
</body>
</html>
